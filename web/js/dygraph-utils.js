(function(){"use strict";Dygraph.LOG_SCALE=10;Dygraph.LN_TEN=Math.log(Dygraph.LOG_SCALE);Dygraph.log10=function(e){return Math.log(e)/Dygraph.LN_TEN};Dygraph.DOTTED_LINE=[2,2];Dygraph.DASHED_LINE=[7,3];Dygraph.DOT_DASH_LINE=[7,2,2,2];Dygraph.getContext=function(e){return e.getContext("2d")};Dygraph.addEvent=function(t,n,r){t.addEventListener(n,r,false)};Dygraph.prototype.addAndTrackEvent=function(e,t,n){Dygraph.addEvent(e,t,n);this.registeredEvents_.push({elem:e,type:t,fn:n})};Dygraph.removeEvent=function(e,t,n){e.removeEventListener(t,n,false)};Dygraph.prototype.removeTrackedEvents_=function(){if(this.registeredEvents_){for(var e=0;e<this.registeredEvents_.length;e++){var t=this.registeredEvents_[e];Dygraph.removeEvent(t.elem,t.type,t.fn)}}this.registeredEvents_=[]};Dygraph.cancelEvent=function(e){e=e?e:window.event;if(e.stopPropagation){e.stopPropagation()}if(e.preventDefault){e.preventDefault()}e.cancelBubble=true;e.cancel=true;e.returnValue=false;return false};Dygraph.hsvToRGB=function(e,t,n){var r;var i;var s;if(t===0){r=n;i=n;s=n}else{var o=Math.floor(e*6);var u=e*6-o;var a=n*(1-t);var f=n*(1-t*u);var l=n*(1-t*(1-u));switch(o){case 1:r=f;i=n;s=a;break;case 2:r=a;i=n;s=l;break;case 3:r=a;i=f;s=n;break;case 4:r=l;i=a;s=n;break;case 5:r=n;i=a;s=f;break;case 6:case 0:r=n;i=l;s=a;break}}r=Math.floor(255*r+.5);i=Math.floor(255*i+.5);s=Math.floor(255*s+.5);return"rgb("+r+","+i+","+s+")"};Dygraph.findPos=function(e){var t=0,n=0;if(e.offsetParent){var r=e;while(1){var i="0",s="0";var o=window.getComputedStyle(r,null);i=o.borderLeft||"0";s=o.borderTop||"0";t+=parseInt(i,10);n+=parseInt(s,10);t+=r.offsetLeft;n+=r.offsetTop;if(!r.offsetParent){break}r=r.offsetParent}}else{if(e.x)t+=e.x;if(e.y)n+=e.y}while(e&&e!=document.body){t-=e.scrollLeft;n-=e.scrollTop;e=e.parentNode}return{x:t,y:n}};Dygraph.pageX=function(e){if(e.pageX){return!e.pageX||e.pageX<0?0:e.pageX}else{var t=document.documentElement;var n=document.body;return e.clientX+(t.scrollLeft||n.scrollLeft)-(t.clientLeft||0)}};Dygraph.pageY=function(e){if(e.pageY){return!e.pageY||e.pageY<0?0:e.pageY}else{var t=document.documentElement;var n=document.body;return e.clientY+(t.scrollTop||n.scrollTop)-(t.clientTop||0)}};Dygraph.dragGetX_=function(e,t){return Dygraph.pageX(e)-t.px};Dygraph.dragGetY_=function(e,t){return Dygraph.pageY(e)-t.py};Dygraph.isOK=function(e){return!!e&&!isNaN(e)};Dygraph.isValidPoint=function(e,t){if(!e)return false;if(e.yval===null)return false;if(e.x===null||e.x===undefined)return false;if(e.y===null||e.y===undefined)return false;if(isNaN(e.x)||!t&&isNaN(e.y))return false;return true};Dygraph.floatFormat=function(e,t){var n=Math.min(Math.max(1,t||2),21);return Math.abs(e)<.001&&e!==0?e.toExponential(n-1):e.toPrecision(n)};Dygraph.zeropad=function(e){if(e<10)return"0"+e;else return""+e};Dygraph.DateAccessorsLocal={getFullYear:function(e){return e.getFullYear()},getMonth:function(e){return e.getMonth()},getDate:function(e){return e.getDate()},getHours:function(e){return e.getHours()},getMinutes:function(e){return e.getMinutes()},getSeconds:function(e){return e.getSeconds()},getMilliseconds:function(e){return e.getMilliseconds()},getDay:function(e){return e.getDay()},makeDate:function(e,t,n,r,i,s,o){return new Date(e,t,n,r,i,s,o)}};Dygraph.DateAccessorsUTC={getFullYear:function(e){return e.getUTCFullYear()},getMonth:function(e){return e.getUTCMonth()},getDate:function(e){return e.getUTCDate()},getHours:function(e){return e.getUTCHours()},getMinutes:function(e){return e.getUTCMinutes()},getSeconds:function(e){return e.getUTCSeconds()},getMilliseconds:function(e){return e.getUTCMilliseconds()},getDay:function(e){return e.getUTCDay()},makeDate:function(e,t,n,r,i,s,o){return new Date(Date.UTC(e,t,n,r,i,s,o))}};Dygraph.hmsString_=function(e,t,n){var r=Dygraph.zeropad;var i=r(e)+":"+r(t);if(n){i+=":"+r(n)}return i};Dygraph.dateString_=function(e,t){var n=Dygraph.zeropad;var r=t?Dygraph.DateAccessorsUTC:Dygraph.DateAccessorsLocal;var i=new Date(e);var s=r.getFullYear(i);var o=r.getMonth(i);var u=r.getDate(i);var a=r.getHours(i);var f=r.getMinutes(i);var l=r.getSeconds(i);var c=""+s;var h=n(o+1);var p=n(u);var d=a*3600+f*60+l;var v=c+"/"+h+"/"+p;if(d){v+=" "+Dygraph.hmsString_(a,f,l)}return v};Dygraph.round_=function(e,t){var n=Math.pow(10,t);return Math.round(e*n)/n};Dygraph.binarySearch=function(e,t,n,r,i){if(r===null||r===undefined||i===null||i===undefined){r=0;i=t.length-1}if(r>i){return-1}if(n===null||n===undefined){n=0}var s=function(e){return e>=0&&e<t.length};var o=parseInt((r+i)/2,10);var u=t[o];var a;if(u==e){return o}else if(u>e){if(n>0){a=o-1;if(s(a)&&t[a]<e){return o}}return Dygraph.binarySearch(e,t,n,r,o-1)}else if(u<e){if(n<0){a=o+1;if(s(a)&&t[a]>e){return o}}return Dygraph.binarySearch(e,t,n,o+1,i)}return-1};Dygraph.dateParser=function(e){var t;var n;if(e.search("-")==-1||e.search("T")!=-1||e.search("Z")!=-1){n=Dygraph.dateStrToMillis(e);if(n&&!isNaN(n))return n}if(e.search("-")!=-1){t=e.replace("-","/","g");while(t.search("-")!=-1){t=t.replace("-","/")}n=Dygraph.dateStrToMillis(t)}else if(e.length==8){t=e.substr(0,4)+"/"+e.substr(4,2)+"/"+e.substr(6,2);n=Dygraph.dateStrToMillis(t)}else{n=Dygraph.dateStrToMillis(e)}if(!n||isNaN(n)){console.error("Couldn't parse "+e+" as a date")}return n};Dygraph.dateStrToMillis=function(e){return(new Date(e)).getTime()};Dygraph.update=function(e,t){if(typeof t!="undefined"&&t!==null){for(var n in t){if(t.hasOwnProperty(n)){e[n]=t[n]}}}return e};Dygraph.updateDeep=function(e,t){function n(e){return typeof Node==="object"?e instanceof Node:typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"}if(typeof t!="undefined"&&t!==null){for(var r in t){if(t.hasOwnProperty(r)){if(t[r]===null){e[r]=null}else if(Dygraph.isArrayLike(t[r])){e[r]=t[r].slice()}else if(n(t[r])){e[r]=t[r]}else if(typeof t[r]=="object"){if(typeof e[r]!="object"||e[r]===null){e[r]={}}Dygraph.updateDeep(e[r],t[r])}else{e[r]=t[r]}}}}return e};Dygraph.isArrayLike=function(e){var t=typeof e;if(t!="object"&&!(t=="function"&&typeof e.item=="function")||e===null||typeof e.length!="number"||e.nodeType===3){return false}return true};Dygraph.isDateLike=function(e){if(typeof e!="object"||e===null||typeof e.getTime!="function"){return false}return true};Dygraph.clone=function(e){var t=[];for(var n=0;n<e.length;n++){if(Dygraph.isArrayLike(e[n])){t.push(Dygraph.clone(e[n]))}else{t.push(e[n])}}return t};Dygraph.createCanvas=function(){return document.createElement("canvas")};Dygraph.getContextPixelRatio=function(e){try{var t=window.devicePixelRatio;var n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;if(t!==undefined){return t/n}else{return 1}}catch(r){return 1}};Dygraph.isAndroid=function(){return/Android/.test(navigator.userAgent)};Dygraph.Iterator=function(e,t,n,r){t=t||0;n=n||e.length;this.hasNext=true;this.peek=null;this.start_=t;this.array_=e;this.predicate_=r;this.end_=Math.min(e.length,t+n);this.nextIdx_=t-1;this.next()};Dygraph.Iterator.prototype.next=function(){if(!this.hasNext){return null}var e=this.peek;var t=this.nextIdx_+1;var n=false;while(t<this.end_){if(!this.predicate_||this.predicate_(this.array_,t)){this.peek=this.array_[t];n=true;break}t++}this.nextIdx_=t;if(!n){this.hasNext=false;this.peek=null}return e};Dygraph.createIterator=function(e,t,n,r){return new Dygraph.Iterator(e,t,n,r)};Dygraph.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}();Dygraph.repeatAndCleanup=function(e,t,n,r){var i=0;var s;var o=(new Date).getTime();e(i);if(t==1){r();return}var u=t-1;(function a(){if(i>=t)return;Dygraph.requestAnimFrame.call(window,function(){var t=(new Date).getTime();var f=t-o;s=i;i=Math.floor(f/n);var l=i-s;var c=i+l>u;if(c||i>=u){e(u);r()}else{if(l!==0){e(i)}a()}})})()};var e={annotationClickHandler:true,annotationDblClickHandler:true,annotationMouseOutHandler:true,annotationMouseOverHandler:true,axisLabelColor:true,axisLineColor:true,axisLineWidth:true,clickCallback:true,drawCallback:true,drawHighlightPointCallback:true,drawPoints:true,drawPointCallback:true,drawGrid:true,fillAlpha:true,gridLineColor:true,gridLineWidth:true,hideOverlayOnMouseOut:true,highlightCallback:true,highlightCircleSize:true,interactionModel:true,isZoomedIgnoreProgrammaticZoom:true,labelsDiv:true,labelsDivStyles:true,labelsDivWidth:true,labelsKMB:true,labelsKMG2:true,labelsSeparateLines:true,labelsShowZeroValues:true,legend:true,panEdgeFraction:true,pixelsPerYLabel:true,pointClickCallback:true,pointSize:true,rangeSelectorPlotFillColor:true,rangeSelectorPlotStrokeColor:true,showLabelsOnHighlight:true,showRoller:true,strokeWidth:true,underlayCallback:true,unhighlightCallback:true,zoomCallback:true};Dygraph.isPixelChangingOptionList=function(t,n){var r={};if(t){for(var i=1;i<t.length;i++){r[t[i]]=true}}var s=function(t){for(var n in t){if(t.hasOwnProperty(n)&&!e[n]){return true}}return false};for(var o in n){if(!n.hasOwnProperty(o))continue;if(o=="highlightSeriesOpts"||r[o]&&!n.series){if(s(n[o]))return true}else if(o=="series"||o=="axes"){var u=n[o];for(var a in u){if(u.hasOwnProperty(a)&&s(u[a])){return true}}}else{if(!e[o])return true}}return false};Dygraph.Circles={DEFAULT:function(e,t,n,r,i,s,o){n.beginPath();n.fillStyle=s;n.arc(r,i,o,0,2*Math.PI,false);n.fill()}};Dygraph.IFrameTarp=function(){this.tarps=[]};Dygraph.IFrameTarp.prototype.cover=function(){var e=document.getElementsByTagName("iframe");for(var t=0;t<e.length;t++){var n=e[t];var r=Dygraph.findPos(n),i=r.x,s=r.y,o=n.offsetWidth,u=n.offsetHeight;var a=document.createElement("div");a.style.position="absolute";a.style.left=i+"px";a.style.top=s+"px";a.style.width=o+"px";a.style.height=u+"px";a.style.zIndex=999;document.body.appendChild(a);this.tarps.push(a)}};Dygraph.IFrameTarp.prototype.uncover=function(){for(var e=0;e<this.tarps.length;e++){this.tarps[e].parentNode.removeChild(this.tarps[e])}this.tarps=[]};Dygraph.detectLineDelimiter=function(e){for(var t=0;t<e.length;t++){var n=e.charAt(t);if(n==="\r"){if(t+1<e.length&&e.charAt(t+1)==="\n"){return"\r\n"}return n}if(n==="\n"){if(t+1<e.length&&e.charAt(t+1)==="\r"){return"\n\r"}return n}}return null};Dygraph.isNodeContainedBy=function(e,t){if(t===null||e===null){return false}var n=e;while(n&&n!==t){n=n.parentNode}return n===t};Dygraph.pow=function(e,t){if(t<0){return 1/Math.pow(e,-t)}return Math.pow(e,t)};Dygraph.toRGB_=function(e){var t=document.createElement("div");t.style.backgroundColor=e;t.style.visibility="hidden";document.body.appendChild(t);var n=window.getComputedStyle(t,null).backgroundColor;document.body.removeChild(t);var r=/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/.exec(n);return{r:parseInt(r[1],10),g:parseInt(r[2],10),b:parseInt(r[3],10)}};Dygraph.isCanvasSupported=function(e){try{var t=e||document.createElement("canvas");t.getContext("2d")}catch(n){return false}return true};Dygraph.parseFloat_=function(e,t,n){var r=parseFloat(e);if(!isNaN(r))return r;if(/^ *$/.test(e))return null;if(/^ *nan *$/i.test(e))return NaN;var i="Unable to parse '"+e+"' as a number";if(n!==undefined&&t!==undefined){i+=" on line "+(1+(t||0))+" ('"+n+"') of CSV."}console.error(i);return null}})()
